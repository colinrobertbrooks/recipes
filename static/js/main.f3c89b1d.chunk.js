(this.webpackJsonprecipes=this.webpackJsonprecipes||[]).push([[0],{140:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);n(80);var r,c,a,i,s,l,o=n(0),u=n(27),p=n.n(u),j=n(77),h=n(10),d=n(15),b=n(18),f=n(24),O=n.n(f),m=n(28),x=n(16),v=n(147),g=n(148),y=n(149),k=n(19),C=n(69),N=n.n(C),w=function(e){var t=e.recipes,n=e.filters,r=n.recipeTypeQuery,c=n.recipeNameQuery;return t.filter((function(e){var t=[];return r&&t.push(e.type===r),c&&t.push(-1!==e.name.toLowerCase().search(c.toLowerCase())),t.every(Boolean)}))},T=n(47),R=function(e){return e.map((function(e){return e.type})).reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])},S=function(e){var t=e.recipes,n=e.filters,r=e.currentValue,c=R(t),a=R(w({recipes:t,filters:Object(T.a)(Object(T.a)({},n),{},{recipeTypeQuery:null})}));return c.sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{value:e,active:e===r,disabled:!a.includes(e)}}))},A=n(79),z=function(e){var t=Object(A.a)(e),n=t[0],r=t.slice(1),c=[];return r.forEach((function(e){var t={};e.forEach((function(e,r){t[n[r]]=e})),c.push(t)})),c.map((function(e,t){return{id:t,name:e.name,type:e.type,link:e.link,notes:e.notes||null}}))},E=function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)}))},Q=N.a.create({baseURL:"https://sheets.googleapis.com/v4/spreadsheets"}),L="106-nwBqrxeCGMSY0ZOUAjRvlbL2b2xAJgPy67M_Btc8",B="Recipes",I="AIzaSyAqCMNvKSDiOb0yIAjLF2Z1T5gSsAetaVA",M=function(){var e=arguments;return Object(m.a)(O.a.mark((function t(){var n,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:L,r=e.length>1&&void 0!==e[1]?e[1]:I,t.prev=2,t.next=5,Q.get("".concat(n,"/values/").concat(B,"?key=").concat(r));case 5:return c=t.sent,t.abrupt("return",z(c.data.values));case 9:throw t.prev=9,t.t0=t.catch(2),new Error("Error fetching recipes");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},J=n(4),V=function(e){var t=e.count;return Object(J.jsxs)("small",{role:"alert","aria-live":"polite",className:"text-muted font-italic",children:[t," ",1===t?"recipe":"recipes"]})},q=n(70),F=n.n(q),U=n(142),Z=n(143),_=n(74),D=k.a.div(r||(r=Object(b.a)(["\n  margin-bottom: 12px;\n"]))),G=k.a.h2(c||(c=Object(b.a)(["\n  font-size: 1.5rem;\n  margin-bottom: 12px;\n"]))),H=Object(k.a)(_.a)(a||(a=Object(b.a)(["\n  @media (max-width: 576px) {\n    display: block;\n  }\n"]))),K=k.a.p.attrs({className:"text-muted"})(i||(i=Object(b.a)(["\n  margin-top: 8px;\n  margin-bottom: 0;\n  font-size: 0.95rem;\n  font-style: italic;\n"]))),P=function(e){var t=e.name,n=e.type,r=e.link,c=e.notes,a=e.nameQuery,i=e.shouldShowType;return Object(J.jsx)(D,{children:Object(J.jsx)(U.a,{children:Object(J.jsxs)(Z.a,{children:[Object(J.jsxs)(G,{children:[Object(J.jsx)(F.a,{"data-testid":"recipe-name",highlightClassName:"highlight-word-search",searchWords:[a||""],textToHighlight:t}),i&&Object(J.jsxs)("small",{className:"text-muted",children:[" (",n,")"]})]}),Object(J.jsx)(H,{"aria-label":"Recipe for ".concat(t),color:"primary",href:r,target:"_blank",rel:"noopener noreferrer",children:"Recipe"}),c&&Object(J.jsxs)(K,{children:['"',c,'"']})]})})})},W=n(144),Y=n(151),X=n(152),$=n(150),ee=n(145),te=n(146),ne=n(153),re=k.a.span(s||(s=Object(b.a)(["\n  float: right;\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1;\n  text-shadow: 0 1px 0 #fff;\n  opacity: 0.5;\n"]))),ce=function(e){var t=e.recipeType,n=e.recipeTypeOptions,r=e.handleRecipeTypeChange,c=e.recipeName,a=e.handleRecipeNameChange,i=e.handleClear,s=t||"All",l=Object(o.useState)(!1),u=Object(x.a)(l,2),p=u[0],j=u[1];return Object(J.jsxs)(W.a,{children:[Object(J.jsxs)(Y.a,{addonType:"prepend",isOpen:p,toggle:function(){return j(!p)},children:[Object(J.jsx)(X.a,{"aria-label":"filter recipe type ".concat(s),color:"primary",outline:!0,caret:!0,children:s}),Object(J.jsxs)($.a,{children:[Object(J.jsx)(ee.a,{active:null===t,onClick:function(){return r(void 0)},children:"All"}),n.map((function(e){var t=e.value,n=e.active,c=e.disabled;return Object(J.jsx)(ee.a,{active:n,disabled:c,onClick:function(){return r(t)},children:t},t)}))]})]}),Object(J.jsx)(te.a,{placeholder:"search recipe names",className:"text-center",value:c||"",onChange:function(e){return a(e.currentTarget.value)},spellCheck:!1}),Object(J.jsx)(ne.a,{addonType:"append",children:Object(J.jsx)(_.a,{"aria-label":"clear filter and search",color:"primary",outline:!0,onClick:i,children:Object(J.jsx)(re,{"aria-hidden":"true",children:"\xd7"})})})]})},ae=k.a.div(l||(l=Object(b.a)(["\n  margin-bottom: 16px;\n"]))),ie=function(){var e=Object(d.c)("spreadsheetId",d.b),t=Object(x.a)(e,1)[0],n=Object(d.c)("key",d.b),r=Object(x.a)(n,1)[0],c=Object(o.useState)(!0),a=Object(x.a)(c,2),i=a[0],s=a[1],l=Object(o.useState)(null),u=Object(x.a)(l,2),p=u[0],j=u[1],h=Object(o.useState)([]),b=Object(x.a)(h,2),f=b[0],k=b[1],C=Object(d.c)("type",d.b),N=Object(x.a)(C,2),T=N[0],R=N[1],A=Object(d.c)("name",d.b),z=Object(x.a)(A,2),Q=z[0],L=z[1],B={recipeTypeQuery:T,recipeNameQuery:Q},I=S({recipes:f,filters:B,currentValue:T}),q=w({recipes:f,filters:B});return Object(o.useEffect)((function(){var e=function(){var e=Object(m.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(null),s(!0),e.prev=2,e.next=5,M(t,r);case 5:n=e.sent,k(E(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),j(e.t0);case 12:s(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(J.jsx)(v.a,{children:Object(J.jsx)(g.a,{children:Object(J.jsxs)(y.a,{xs:{size:12,offset:0},sm:{size:10,offset:1},md:{size:12,offset:0},lg:{size:8,offset:2},className:"text-center",children:[Object(J.jsx)("h1",{className:"mt-3",children:"Recipes"}),i?Object(J.jsx)("p",{className:"text-muted",children:"Loading recipes..."}):p?Object(J.jsx)("p",{className:"text-danger",children:"Error loading recipes!"}):f.length?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(ae,{children:[Object(J.jsx)(ce,{recipeType:T,recipeTypeOptions:I,handleRecipeTypeChange:R,recipeName:Q,handleRecipeNameChange:function(e){L(e||void 0)},handleClear:function(){R(void 0),L(void 0)}}),Object(J.jsx)(V,{count:q.length})]}),q.length?q.map((function(e){var t=e.id,n=e.name,r=e.type,c=e.link,a=e.notes;return Object(J.jsx)(P,{name:n,type:r,link:c,notes:a,nameQuery:Q,shouldShowType:!T},t)})):Object(J.jsxs)("p",{children:["No ",Object(J.jsx)("strong",{children:T})," recipes matching"," ",Object(J.jsxs)("strong",{children:[Q,"."]})]})]}):Object(J.jsx)("p",{role:"alert","aria-live":"assertive",children:"No recipes."})]})})})},se=function(){return Object(J.jsx)(j.a,{children:Object(J.jsx)(d.a,{ReactRouterRoute:h.a,children:Object(J.jsx)(ie,{})})})};n(140);p.a.render(Object(J.jsx)(o.StrictMode,{children:Object(J.jsx)(se,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.f3c89b1d.chunk.js.map